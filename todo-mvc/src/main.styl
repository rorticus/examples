@import '../node_modules/todomvc-app-css/index.css';

/* colors, for reference */
$red = rgba(175,47,47,.2);
$lightRed = rgba(175,47,47,.1);
$textColor = #4d4d4d;
$textLight = #777777;
$darkGrey = #999999;
$lightGrey = #ededed;
$green = #bddad5;

/* Recommended way to make hidden content accessible to screenreaders */
.visually-hidden {
	border: 0;
	clip: rect(0 0 0 0);
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
}

/* Override TodoMVC styles that target all labels in .todo-list li */
.todo-list li .simple-label {
	margin: 0;
	padding: 0;
}

/* Focus styles */
.new-todo {
	border: 1px solid transparent;
	&:focus {
		border: 1px solid $darkGrey;
		box-shadow: inset 0 -1px 5px 0 rgba(0,0,0,.2);
	}
}

/* All the repeated inline svgs don't seem ideal, but it maintains consistency with todomvc-app-css */
@css {
	.todo-list li .toggle:focus:after {
		content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="#e9f5f3" stroke="#bddad5" stroke-width="3"/></svg>');
	}
	.todo-list li .toggle:checked:focus:after {
		content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="#e9f5f3" stroke="#bddad5" stroke-width="3"/><path fill="#5dc2af" d="M72 25L42 71 27 56l-4 4 20 20 34-52z"/></svg>');
	}
}

.toggle-all:focus:before {
	color: $green;
}

.todo-list li label:focus {
	box-shadow: inset 0 0 0 1px $green;
}

.todo-list li .destroy {
	display: block;
	opacity: 0;
	transition: all 0.2s ease-out;
}

.todo-list li:hover .destroy, .todo-list li .destroy:focus {
	opacity: 1;
}

.todo-list li .destroy:hover {
	cursor: pointer;
}

.filters li a:focus {
	background-color: $lightRed;
}

.info a:focus, .clear-completed:focus {
	text-decoration: underline;
}

/* Move the border-top from .main to prevent it from showing up before items are added */
.main {
	border-top: none;
}

.todo-list li:first-child {
	border-top: 1px solid $lightGrey;
}

.view-chooser {
	display: inline-block;
	padding: 0;
	margin: -3px -12px 0 6px;
	list-style: none;
	float: right;

	li {
		display: inline-block;
		position: relative;

		a {
			color: inherit;
			padding: 3px 7px;
			text-decoration: none;
			border: 1px solid transparent;
			border-radius: 3px;
			width: 18px;
			height: 18px;
			display: inline-block;

			&:focus {
				background-color: $lightRed;
			}

			&.active {
				box-shadow: inset 0 0 0 1px $red;
			}
		}
	}
}

@css {
	.view-chooser li a.list:after {
		content: url('data:image/svg+xml;utf8,<svg width="18" height="18" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M256 1312v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm1536 768v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm-1536-1152v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm1536 768v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5z"/></svg>');
	}

	.view-chooser li a.cards:after {
		content: url('data:image/svg+xml;utf8,<svg width="18" height="18" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68z"/></svg>');
	}
}

.card-list {
	display: flex;
	flex-direction row;
	flex-wrap: wrap;
	justify-content: space-between;
	background-color: #f6f6f6;
	padding: 4px;

	&.empty {
		padding: 0;
	}

	li {
		width: 32%;
		margin: 2px;
		flex-grow: 1;
		border: none;

		&.card {
			border: 1px solid #ededed;
			background-color: white;
			box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);

			.header {
				height: 40px;
				border-bottom: 1px solid #ededed;

				.toggle {
					left: 0;
					top: 0;
					margin: 0;
					transform: scale(50%);
				}

				.destroy {
					right: 0;
					top: -3px;
					margin: 0;
					opacity: 1;
				}
			}

			label {
				font-size: 17px;
				padding: 15px;
				word-break: break-word;
				margin: 0;
			}
		}

		&.empty-filler {
			width: 32%;
			height: 0;
			margin: 0 2px;
		}
	}
}

.todo-details {
	.backdrop {
		position: absolute;
		left: -152px;
		top: 0;
		overflow: hidden;
		width: 150%;
		height: 150%;
		z-index: 99;
		background-color: rgba(0, 0, 0, 0.25);
	}

	.modal {
		position: fixed;
		top: 130px;
		left: 50%;
		width: 600px;
		transform: translate(-50%, -50%);
		z-index: 100;
		background-color: #fafafa;
		padding: 16px;
		border-radius: 6px;
		box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);

		.close {
			&:after {
				position: absolute;
				top: 8px;
				right: 8px;
				content: 'X';
				cursor: pointer;
			}
		}

		header {
			font-weight: 300;
			font-size: 32px;
			margin-bottom: 12px;
		}
	}
}
